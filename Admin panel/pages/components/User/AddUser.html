<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Add  — Clothing Manufacturing Admin</title>

	<!-- Bootstrap (used by markup classes) -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
	<link rel="stylesheet" href="/css/Sidebar.css">
	<link rel="stylesheet" href="/css/user.css">
</head>

<body class="add_user_body">

	<!-- Sidebar container -->
	<div id="sidebar-container"></div>

	<!-- Navbar container -->
	<div id="navbar-container"></div>

	<main class="main-content" id="main-content">
		<div class="h_wrapper">
			<div class="h_sheet">
				<!-- Header -->
				<div class="h_sheet-header">
					<div class="h_title">
						<i class="bi bi-person-plus-fill fs-4"></i>
						<span>Add User</span>
					</div>
				</div>

				<div class="row g-0" style="background: #f6f6f6;">
					<!-- Left: Photo & quick settings -->
					<div class="col-lg-4 h_profile-col">
						<h6 class="mb-2">User Photo</h6>
						<label class="h_upload-area w-100" for="photoInput">
							<i class="bi bi-cloud-arrow-up-fill fs-3 d-block mb-2" style="color:var(--primary)"></i>
							<strong>Drag & drop</strong> or <u>click to browse</u>
							<div class="h_mini-note mt-1">Max 5MB • PNG, JPG, JPEG</div>
							<input id="photoInput" type="file" accept="image/png,image/jpeg">
							<img id="photoPreview" alt="Preview" class="h_preview">
						</label>

						<div class="h_divider"></div>
						<h6 class="h_section-label mb-3">Quick Settings</h6>
						<div class="form-check form-switch h_form-switch mb-2">
							<input class="form-check-input" type="checkbox" id="isActive" checked>
							<label class="form-check-label ms-2" for="isActive">Active account</label>
						</div>
						<div class="form-check form-switch h_form-switch">
							<input class="form-check-input" type="checkbox" id="emailNotify" checked>
							<label class="form-check-label ms-2" for="emailNotify">Send welcome email</label>
						</div>

						<div class="h_divider"></div>
						<h6 class="h_section-label mb-3">Role</h6>
						<select class="h_custom-select" id="role" required>
							<option value="" selected disabled>Select role</option>
							<option>Admin</option>
							<option>Production Manager</option>
							<option>Quality Supervisor</option>
							<option>Designer</option>
							<option>Floor Worker</option>
							<option>Logistics</option>
						</select>
					</div>

					<!-- Right: Form -->
					<div class="col-lg-8 p-4 h_adduser_basic_info">
						<form class="row g-3 needs-validation" novalidate>
							<h6 class="h_section-label">Basic Information</h6>

							<div class="col-md-6 mt-0">
								<label for="firstName" class="h_custom-label">First Name</label>
								<input type="text" class="h_custom-input" id="firstName" placeholder="Enter first name"
									required>
								<div class="invalid-feedback">Please enter first name.</div>
							</div>
							<div class="col-md-6 mt-0">
								<label for="lastName" class="h_custom-label">Last Name</label>
								<input type="text" class="h_custom-input" id="lastName" placeholder="Enter last name"
									required>
								<div class="invalid-feedback">Please enter last name.</div>
							</div>

							<div class="col-md-6">
								<label for="email" class="h_custom-label">Email Address</label>
								<input type="email" class="h_custom-input" id="email" placeholder="name@company.com"
									required>
								<div class="invalid-feedback">Please enter a valid email.</div>
							</div>
							<div class="col-md-6">
								<label for="phone" class="h_custom-label">Phone Number</label>
								<input type="tel" class="h_custom-input" id="phone" placeholder="Enter phone number"
									required>
								<div class="invalid-feedback">Please enter phone number.</div>
							</div>

							<div class="col-md-6">
								<label for="birthdate" class="h_custom-label">Birthdate</label>
								<input type="date" class="h_custom-input" id="birthdate" placeholder="Birthdate">
							</div>
							<div class="col-md-6">
								<label for="gender" class="h_custom-label">Gender</label>
								<select class="h_custom-select" id="gender">
									<option selected disabled value="">Select Gender</option>
									<option>Male</option>
									<option>Female</option>
									<option>Other</option>
								</select>
							</div>

							<h6 class="h_section-label mt-3">Address</h6>
							<div class="col-12 mt-0">
								<label for="address" class="h_custom-label">Full Address</label>
								<textarea class="h_custom-textarea" id="address"
									placeholder="Street, City, State, Country"></textarea>
							</div>
							<div class="col-md-4">
								<label for="city" class="h_custom-label">City</label>
								<input type="text" class="h_custom-input" id="city" placeholder="City">
							</div>
							<div class="col-md-4">
								<label for="state" class="h_custom-label">State</label>
								<input type="text" class="h_custom-input" id="state" placeholder="State">
							</div>
							<div class="col-md-4">
								<label for="country" class="h_custom-label">Country</label>
								<input type="text" class="h_custom-input" id="country" placeholder="Country">
							</div>

							<h6 class="h_section-label mt-3">Security</h6>
							<div
								class="col-md-12 d-flex justify-content-between align-items-center gap-3 h_adduser_input-fields">
								<div class="col-md-6 h_icon-input mt-0">
									<label for="password" class="h_custom-label">Password</label>
									<input type="password" class="h_custom-input" id="password"
										placeholder="Create password" required>
									<i class="bi bi-eye-slash" id="togglePass"></i>
									<div class="invalid-feedback">Please set a password.</div>
								</div>
								<div class="col-md-6 h_icon-input">
									<label for="confirmPassword" class="h_custom-label">Confirm Password</label>
									<input type="password" class="h_custom-input" id="confirmPassword"
										placeholder="Re-enter password" required>
									<i class="bi bi-eye-slash" id="togglePass2"></i>
									<div class="invalid-feedback">Passwords must match.</div>
								</div>
							</div>


							<div class="col-12 d-flex justify-content-end gap-2 pt-2">
								<a href="/pages/components/Users/UserList.html" class=" text-decoration-none">
									<button type="button" class="btn btn-outline-primary">
										<i class="bi bi-x-circle me-1"></i>Cancel
									</button>
								</a>
								<button type="submit" class="btn btn-primary">
									<i class="bi bi-check2-circle me-1"></i>Create User
								</button>
							</div>
						</form>
					</div>
				</div>

			</div>
		</div>
	</main>

	<!-- Overlay for mobile -->
	<div class="overlay"></div>

	<!-- Bootstrap JS bundle -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="/js/sidebar-loader.js"></script>
	<script src="/js/navbar-loader.js"></script>

	<script>
		// Image preview (ids unchanged)
		const input = document.getElementById('photoInput');
		const preview = document.getElementById('photoPreview');
		input.addEventListener('change', (e) => {
			const file = e.target.files?.[0];
			if (!file) return;
			if (file.size > 5 * 1024 * 1024) {
				alert('File too large. Max 5MB.');
				input.value = '';
				preview.style.display = 'none';
				return;
			}
			const url = URL.createObjectURL(file);
			preview.src = url;
			preview.style.display = 'block';
		});

		// Password show/hide toggles (ids unchanged)
		function toggleField(iconId, inputId) {
			const icon = document.getElementById(iconId);
			const field = document.getElementById(inputId);
			icon.addEventListener('click', () => {
				const show = field.type === 'password';
				field.type = show ? 'text' : 'password';
				icon.classList.toggle('bi-eye', show);
				icon.classList.toggle('bi-eye-slash', !show);
			});
		}
		toggleField('togglePass', 'password');
		toggleField('togglePass2', 'confirmPassword');

		// Bootstrap validation + confirm password match
		(function () {
			const form = document.querySelector('.needs-validation');
			form.addEventListener('submit', function (event) {
				const pass = document.getElementById('password');
				const cpass = document.getElementById('confirmPassword');
				if (pass.value !== cpass.value) {
					cpass.setCustomValidity('Mismatch');
				} else {
					cpass.setCustomValidity('');
				}
				if (!form.checkValidity()) {
					event.preventDefault();
					event.stopPropagation();
				}
				form.classList.add('was-validated');
			}, false);
		})();
	</script>
</body>

</html>