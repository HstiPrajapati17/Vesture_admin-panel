<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Supplier List â€” Clothing Manufacturing</title>

	<!-- Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

	<!-- External CSS -->
	<link rel="stylesheet" href="/css/Sidebar.css">
	<link rel="stylesheet" href="/css/supplier.css">
</head>

<body>
	<!-- Sidebar -->
	<div id="sidebar-container"></div>
	<!-- Navbar -->
	<div id="navbar-container"></div>

	<main class="main-content" id="main-content">
		<div class="container-fluid p-4">

			<!-- Header Buttons -->
			<div class="d-flex justify-content-between align-items-center">
				<h4 class="mb-0">Supplier Management</h4>
				<a href="/pages/components/Supplier/AddSupplier.html">
					<button class="btn btn-primary">
						<i class="bi bi-plus-circle"></i> Add Supplier
					</button>
				</a>
			</div>

			<!-- Supplier Table -->
			<div class="h_user-list mt-4">
				<h4 class="mb-3">Supplier List</h4>
				<div class="table-responsive">
					<table class="table h_custom-table align-middle">
						<thead>
							<tr>
								<th>Supplier Name</th>
								<th>Contact</th>
								<th>Email</th>
								<th>Category</th>
								<th>Status</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody id="supplierTableBody"></tbody>
					</table>
				</div>
			</div>

		</div>
	</main>

	<!-- Overlay -->
	<div class="overlay"></div>

	<!-- View Modal -->
	<div class="modal fade" id="viewModal" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">View Supplier</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body" id="viewModalBody"></div>
			</div>
		</div>
	</div>

	<!-- Edit Modal -->
	<div class="modal fade" id="editModal" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Edit Supplier</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body">
					<form id="editForm">
						<div class="mb-3">
							<label class="form-label">Supplier Name</label>
							<input type="text" class="form-control" id="editName">
						</div>
						<div class="mb-3">
							<label class="form-label">Contact</label>
							<input type="text" class="form-control" id="editContact">
						</div>
						<div class="mb-3">
							<label class="form-label">Email</label>
							<input type="email" class="form-control" id="editEmail">
						</div>
						<div class="mb-3">
							<label class="form-label">Category</label>
							<input type="text" class="form-control" id="editCategory">
						</div>
						<div class="mb-3">
							<label class="form-label">Status</label>
							<input type="text" class="form-control" id="editStatus">
						</div>
						<button type="submit" class="btn btn-success">Save Changes</button>
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- Delete Modal -->
	<div class="modal fade" id="deleteModal" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Confirm Delete</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body">
					<p>Are you sure you want to delete this supplier?</p>
					<div class="d-flex justify-content-end">
						<button class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
						<button class="btn btn-danger">Delete</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Bootstrap Bundle -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="/js/sidebar-loader.js"></script>
	<script src="/js/navbar-loader.js"></script>

	<script>
		const suppliers = [
			// Fabric Suppliers
			{ supplierName: "Textile Corp", contact: "David Supplier", email: "david@textile.com", category: "Fabrics", status: "Active" },
			{ supplierName: "Cotton World", contact: "Emma Mills", email: "emma@cottonworld.com", category: "Cotton", status: "Inactive" },

			// Accessories & Trims
			{ supplierName: "Button Hub", contact: "Oliver Stone", email: "oliver@buttonhub.com", category: "Buttons & Trims", status: "Active" },
			{ supplierName: "Zipper World", contact: "Mia Carter", email: "mia@zipperworld.com", category: "Zippers", status: "Inactive" },
			{ supplierName: "ThreadWorks", contact: "Noah Evans", email: "noah@threadworks.com", category: "Threads", status: "Active" },

			// Printing & Embroidery
			{ supplierName: "Print Masters", contact: "Ava Martin", email: "ava@printmasters.com", category: "Printing", status: "Active" },
			{ supplierName: "Stitch Embroidery", contact: "Ethan Brooks", email: "ethan@stitchembroidery.com", category: "Embroidery", status: "Active" },

			// Packaging
			{ supplierName: "Pack It Up", contact: "Isabella Wright", email: "isabella@packitup.com", category: "Packaging", status: "Active" },
			{ supplierName: "Box & Bag Co.", contact: "James Harris", email: "james@boxbag.com", category: "Boxes & Bags", status: "Inactive" },

			// Labels & Tags
			{ supplierName: "Label Factory", contact: "Charlotte Green", email: "charlotte@labelfactory.com", category: "Labels & Tags", status: "Active" },
			{ supplierName: "Tag Masters", contact: "Henry White", email: "henry@tagmasters.com", category: "Hang Tags", status: "Active" },

			// Washing & Finishing
			{ supplierName: "Wash & Wear", contact: "Amelia Brown", email: "amelia@washwear.com", category: "Garment Washing", status: "Inactive" },
			{ supplierName: "FinishPro", contact: "William Scott", email: "william@finishpro.com", category: "Finishing Services", status: "Active" }
		];

		// Render Suppliers
		function renderSuppliers() {
			const tbody = document.getElementById("supplierTableBody");
			tbody.innerHTML = "";
			suppliers.forEach((s) => {
				const tr = document.createElement("tr");
				tr.innerHTML = `
        <td>${s.supplierName}</td>
        <td>${s.contact}</td>
        <td>${s.email}</td>
        <td>${s.category}</td>
        <td><span class="badge ${s.status === "Active" ? "bg-success" : "bg-secondary"}">${s.status}</span></td>
        <td>
          <button class="btn btn-sm h_user-list-btn" data-bs-toggle="modal" data-bs-target="#viewModal"
            onclick="openView('${s.supplierName}','${s.contact}','${s.email}','${s.category}','${s.status}')">
            <i class="bi bi-eye"></i>
          </button>
          <button class="btn btn-sm h_user-list-btn" data-bs-toggle="modal" data-bs-target="#editModal"
            onclick="openEdit('${s.supplierName}','${s.contact}','${s.email}','${s.category}','${s.status}')">
            <i class="bi bi-pencil-square"></i>
          </button>
          <button class="btn btn-sm h_user-list-btn" data-bs-toggle="modal" data-bs-target="#deleteModal"
            onclick="openDelete('${s.supplierName}')">
            <i class="bi bi-trash3"></i>
          </button>
        </td>
      `;
				tbody.appendChild(tr);
			});
		}

		// View Supplier
		function openView(supplierName, contact, email, category, status) {
			document.getElementById("viewModalBody").innerHTML = `
      <p><strong>Supplier Name:</strong> ${supplierName}</p>
      <p><strong>Contact:</strong> ${contact}</p>
      <p><strong>Email:</strong> ${email}</p>
      <p><strong>Category:</strong> ${category}</p>
      <p><strong>Status:</strong> ${status}</p>
    `;
		}

		// Edit Supplier
		function openEdit(supplierName, contact, email, category, status) {
			document.getElementById("editName").value = supplierName;
			document.getElementById("editContact").value = contact;
			document.getElementById("editEmail").value = email;
			document.getElementById("editCategory").value = category;
			document.getElementById("editStatus").value = status;
		}

		// Delete
		function openDelete(supplierName) {
			document.querySelector("#deleteModal .modal-body p").innerHTML =
				`Are you sure you want to delete <strong>${supplierName}</strong>?`;
		}

		// Initial Render
		renderSuppliers();
	</script>

</body>

</html>